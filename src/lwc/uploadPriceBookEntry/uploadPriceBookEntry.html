<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 05-16-2022
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
    <lightning-card title="Import PriceBook Entries" variant="Narrow" icon-name="standard:account">
        <lightning-spinner if:true={loading}></lightning-spinner>
        <div class="slds-p-around_medium">
            <lightning-input type="file" label="CSV file" multiple="false" accept=".csv" onchange={handleInputChange}>
            </lightning-input>
        </div>
        <template if:true={isErrorMessage}>
            <p class="slds-m-left_medium">{errorMessage}</p>

        </template>


        <template if:true={rows.length}>
            <div class="slds-p-around_medium">
                <lightning-datatable key-field="key" hide-checkbox-column data={rows} columns={columns}>
                </lightning-datatable>
                <div class="slds-p-around_small slds-align_absolute-center">
                    <template if:true={btnVisible}>
                        <lightning-button variant="neutral" label="Cancel" title="Cancel" onclick={cancel}
                            class="slds-m-left_x-small"></lightning-button>
                        <lightning-button variant="brand" label="Create" title="Create" onclick={createPbe}
                            class="slds-m-left_x-small" disabled={isErrorMessage}></lightning-button>
                    </template>
                    <template if:true={doneButtonVisible}>
                        <lightning-button variant="brand" label="Done" title="Done" onclick={done}
                            class="slds-m-left_x-small"></lightning-button>
                    </template>
                </div>
            </div>
        </template>
    </lightning-card>
</template>